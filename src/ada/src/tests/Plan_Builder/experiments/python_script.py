# python_script.py

import ctypes
import subprocess
import filecmp

def _run_gprbuild(gprfile):
    args = ["gprbuild",
            "-p",   # Create obj dirs
            "--autoconf=testing.cgpr",
            # Speed up gprbuild using default.cgpr generated by the
            # test command
            "-j1",  # when tests run in parallel, CPUs are already
            # being used by other tests.
            "-k",   # Do not stop on first error
            "-P%s" % gprfile,
            "-gnatwa", "-gnatyg-dm", "-gnateE"]

    subprocess.run(args)

_run_gprbuild("default.gpr")

subprocess.run("bin/main_ada")

f1 = "ada_function.c"
f2 = "ada_function.c"

result = filecmp.cmp(f1, f2)

print(result)
